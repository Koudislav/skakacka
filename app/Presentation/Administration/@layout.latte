<!DOCTYPE html>
<html lang="cs">
<head>
	{include '../@head.latte'}
	<script src="https://cdn.tiny.cloud/1/{$config['tinymce_api_key']}/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>

	<title>{ifset title}{include title|stripHtml} | {/ifset}Skákačka</title>
	{asset? 'main.js'}
</head>

<body class="d-flex flex-column min-vh-100">
	{snippet flashes}
		<div class="flashes">
			<div n:foreach="$flashes as $flash" n:class="flash, $flash->type, alert, 'alert-' . $flash->type, 'alert-dismissible fade show'" role="alert">
				{$flash->message}
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
		</div>
	{/snippet}

	{include '@adminPanel.latte'}
	<div class="container flex-grow-1 pt-2">
		<div class="row">
			{ifset blockMenu}
				<div class="col-3">
					{include blockMenu}
				</div>
				<div class="col-9">
					{include content}
				</div>
			{else}
				<div class="col-12">
					{include content}
				</div>
			{/ifset}
		</div>
	</div>

	{include '../@bodyScripts.latte'}
	<script src="{$basePath}/assets/js/Naja.min.js"></script>

	<!-- N1ED core -->
	<script src="https://cdn.n1ed.com/n1ed/tinymce/n1ed.min.js"></script>
	<link rel="stylesheet" href="https://cdn.n1ed.com/n1ed/tinymce/n1ed.min.css">
	<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

	{block scripts}
	<script>
	tinymce.init({
		selector: '.tiny-editor',
		relative_urls: false,
		plugins: [
			'code',
			'lists',
			'link',
			'table',
			'n1ed',
			'fullscreen',
		],
			external_plugins: {
			n1ed: "https://cdn.n1ed.com/n1ed/tinymce/n1ed.min.js"
		},
		n1ed: {
			// Volitelné: konfigurace N1ED
			// URL k blokům / assets / Bootstrap grid
			grid: 'bootstrap5',  // N1ED bude používat Bootstrap 5 grid
			customBlocks: [
			{ name: 'card', label: 'Bootstrap Card', html: '<div class="card"><div class="card-body">Card Content</div></div>' }
			]
		},
		toolbar_mode: 'wrap',
		height: 500,
		menubar: true,
		toolbar: 'undo redo | blocks  | ' +
				'bold italic underline | alignleft aligncenter ' +
				'alignright alignjustify | bullist numlist outdent indent | ' +
				'link table | removeformat code | n1ed | fullscreen',
		content_css: [
			'//www.tiny.cloud/css/codepen.min.css',
			'/assets/css/bootstrap.min.css',
			'/assets/fonts/bootstrap-icons-1.11.0/bootstrap-icons.min.css',
			{$cssFile},
		],
	});
	</script>
	{/block}
</body>
</html>
